webpackJsonp([20],{HMKf:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("Dd8w"),o=e.n(r),i=e("O4Lo"),n={data:function(){var a=this;return{id:null,visible:!1,otherParamsVisible:!1,dataForm:{id:"",code:"",name:"",pid:"",tid:"",seq:"",busSeq:"",rmks:"",arg1:"",arg2:"",arg3:"",arg4:"",arg5:"",statCd:"",statNm:""},dataFormOrigin:[],dataRule:{code:[{required:!0,message:"编码不能为空",trigger:"blur"},{validator:function(t,e,r){var o=a.$query.new();a.$query.toW(o,t.field,e,"EQ"),a.$http.get("/admin/sys-cat/exist?query="+encodeURIComponent(a.$query.toJsonStr(o))).then(function(o){var i=o.data;200!==i.code&&r(new Error("服务器异常,校验失败")),e!==a.dataFormOrigin[t.field]&&i.data?r(new Error("已被使用")):r()}).catch(function(){r(new Error("校验失败"))})},trigger:"blur"}],name:[{required:!0,message:"名称不能为空",trigger:"blur"}]}}},methods:{init:function(a){var t=this;this.dataForm.id=null,this.dataFormOrigin={},this.id=a,this.visible=!0,this.$nextTick(function(){t.$refs.dataForm.resetFields(),t.id&&t.getInfo()})},getInfo:function(){var a=this;this.$http.json().post("/admin/sys-cat/info/",{id:this.id}).then(function(t){var e=t.data;if(200!==e.code)return a.$message.error(e.message);a.dataForm=o()({},a.dataForm,e.data),a.dataFormOrigin=o()({},a.dataFormOrigin,e.data)}).catch(function(){})},dataFormSubmit:e.n(i)()(function(){var a=this;this.$refs.dataForm.validate(function(t){if(t){var e=a.id?"/admin/sys-cat/upd":"/admin/sys-cat/add";a.$http.json().post(e,o()({},a.dataForm)).then(function(t){var e=t.data;e&&200===e.code?a.$message({message:"操作成功",type:"success",duration:500,onClose:function(){a.visible=!1,a.$emit("refreshDataList")}}):a.$message.error(e.msg)})}})},1e3,{leading:!0,trailing:!1})}},s={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("el-dialog",{staticClass:"mod-cat-edit",attrs:{title:a.id?"修改":"新增","close-on-click-modal":!1,visible:a.visible},on:{"update:visible":function(t){a.visible=t}}},[e("el-form",{ref:"dataForm",attrs:{model:a.dataForm,rules:a.dataRule,"label-width":"120px"},nativeOn:{keyup:function(t){if(!("button"in t)&&a._k(t.keyCode,"enter",13,t.key))return null;a.dataFormSubmit()}}},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:11}},[e("el-form-item",{attrs:{label:"编码",prop:"code"}},[e("el-input",{attrs:{placeholder:"编码"},model:{value:a.dataForm.code,callback:function(t){a.$set(a.dataForm,"code",t)},expression:"dataForm.code"}})],1)],1),a._v(" "),e("el-col",{attrs:{span:11}},[e("el-form-item",{attrs:{label:"名称",prop:"name"}},[e("el-input",{attrs:{placeholder:"名称"},model:{value:a.dataForm.name,callback:function(t){a.$set(a.dataForm,"name",t)},expression:"dataForm.name"}})],1)],1),a._v(" "),e("el-col",{attrs:{span:11}},[e("el-form-item",{attrs:{label:"显示排序",prop:"sort"}},[e("el-input-number",{attrs:{min:1,max:1e5,label:"显示排序"},model:{value:a.dataForm.sort,callback:function(t){a.$set(a.dataForm,"sort",t)},expression:"dataForm.sort"}})],1)],1),a._v(" "),e("el-col",{attrs:{span:11}},[e("el-form-item",{attrs:{label:"备注",prop:"remark"}},[e("el-input",{attrs:{placeholder:"备注"},model:{value:a.dataForm.remark,callback:function(t){a.$set(a.dataForm,"remark",t)},expression:"dataForm.remark"}})],1)],1),a._v(" "),e("el-col",{attrs:{span:6}},[e("el-form-item",{staticClass:"input-bar",attrs:{label:"更多参数"}},[e("i",{directives:[{name:"show",rawName:"v-show",value:!a.otherParamsVisible,expression:"!otherParamsVisible"}],staticClass:"el-icon-circle-plus-outline",on:{click:function(t){a.otherParamsVisible=!0}}}),a._v(" "),e("i",{directives:[{name:"show",rawName:"v-show",value:a.otherParamsVisible,expression:"otherParamsVisible"}],staticClass:"el-icon-remove-outline",on:{click:function(t){a.otherParamsVisible=!1}}})])],1)],1),a._v(" "),e("el-row",{directives:[{name:"show",rawName:"v-show",value:a.otherParamsVisible,expression:"otherParamsVisible"}],attrs:{gutter:20}},[e("el-col",{attrs:{span:11}},[e("el-form-item",{attrs:{label:"参数1",prop:"arg1"}},[e("el-input",{attrs:{placeholder:"参数1"},model:{value:a.dataForm.arg1,callback:function(t){a.$set(a.dataForm,"arg1",t)},expression:"dataForm.arg1"}})],1)],1),a._v(" "),e("el-col",{attrs:{span:11}},[e("el-form-item",{attrs:{label:"参数2",prop:"arg2"}},[e("el-input",{attrs:{placeholder:"参数2"},model:{value:a.dataForm.arg2,callback:function(t){a.$set(a.dataForm,"arg2",t)},expression:"dataForm.arg2"}})],1)],1),a._v(" "),e("el-col",{attrs:{span:11}},[e("el-form-item",{attrs:{label:"参数3",prop:"arg3"}},[e("el-input",{attrs:{placeholder:"参数3"},model:{value:a.dataForm.arg3,callback:function(t){a.$set(a.dataForm,"arg3",t)},expression:"dataForm.arg3"}})],1)],1),a._v(" "),e("el-col",{attrs:{span:11}},[e("el-form-item",{attrs:{label:"参数4",prop:"arg4"}},[e("el-input",{attrs:{placeholder:"参数4"},model:{value:a.dataForm.arg4,callback:function(t){a.$set(a.dataForm,"arg4",t)},expression:"dataForm.arg4"}})],1)],1),a._v(" "),e("el-col",{attrs:{span:11}},[e("el-form-item",{attrs:{label:"参数5",prop:"arg5"}},[e("el-input",{attrs:{placeholder:"参数5"},model:{value:a.dataForm.arg5,callback:function(t){a.$set(a.dataForm,"arg5",t)},expression:"dataForm.arg5"}})],1)],1)],1)],1),a._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(t){a.visible=!1}}},[a._v("取消")]),a._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(t){a.dataFormSubmit()}}},[a._v("确定")])],1)],1)},staticRenderFns:[]};var l=e("VU/8")(n,s,!1,function(a){e("LDgH")},null,null);t.default=l.exports},LDgH:function(a,t,e){var r=e("MnSR");"string"==typeof r&&(r=[[a.i,r,""]]),r.locals&&(a.exports=r.locals);e("rjj0")("14312f78",r,!0)},MnSR:function(a,t,e){(a.exports=e("FZ+f")(!1)).push([a.i,"\n.mod-cat-edit .input-bar i {\n  padding-top: 6px;\n  font-size: 24px;\n  color: #3a8ee6;\n  -webkit-transition-property: color;\n  transition-property: color;\n  -webkit-transition-duration: 0.15s;\n          transition-duration: 0.15s;\n  -webkit-transition-timing-function: linear;\n          transition-timing-function: linear;\n  -webkit-transition-delay: initial;\n          transition-delay: initial;\n}\n",""])}});