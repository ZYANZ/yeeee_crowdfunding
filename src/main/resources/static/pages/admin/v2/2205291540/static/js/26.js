webpackJsonp([26],{Kx03:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.inputTree .p-list .el-input__inner,\n.inputTree .p-list .el-input__suffix {\n  cursor: pointer;\n}\n.inputTree .input-bar i {\n  padding-top: 6px;\n  font-size: 24px;\n  color: #3a8ee6;\n  -webkit-transition-property: color;\n  transition-property: color;\n  -webkit-transition-duration: 0.15s;\n          transition-duration: 0.15s;\n  -webkit-transition-timing-function: linear;\n          transition-timing-function: linear;\n  -webkit-transition-delay: initial;\n          transition-delay: initial;\n}\n",""])},OR4M:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Dd8w"),i=a.n(r),n=a("O4Lo"),o=a.n(n),s={name:"input-tree",props:{props:{type:Object,default:function(){return{label:"name",children:"children"}}},pid:{type:[Number,String],default:function(){return 0}},pnm:{type:String,default:function(){return""}},url:{type:String,default:""}},data:function(){return{pListVisible:!1,pList:[],pid2:"",pnm2:""}},watch:{pid:function(t,e){console.log("pid-new: %s, old: %s",t,e),this.pid2=t},pnm:function(t,e){console.log("pnm-new: %s, old: %s",t,e),this.pnm2=t}},methods:{init:function(){this.listTreeData()},listTreeData:function(){var t=this,e=this.$query.new();return this.$http.get(this.url+"?query="+encodeURIComponent(this.$query.toJsonStr(e))).then(function(e){var a=e.data;if(200!==a.code)return t.$message.error(a.message);t.pList=a.data.result}).catch(function(){})},pListTreeCurrentChangeHandle:function(t){this.pid2=t.id,this.pnm2=t.name,this.pListVisible=!1,this.submitModifyHandle()},pListTreeSetDefaultHandle:function(){this.pid2="",this.pnm2=""},submitModifyHandle:function(){var t=this;this.$nextTick(function(){t.$emit("modify",t.pid2,t.pnm2)})}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-popover",{ref:"pListPopover",attrs:{placement:"bottom-start",trigger:"click"},model:{value:t.pListVisible,callback:function(e){t.pListVisible=e},expression:"pListVisible"}},[a("el-tree",{ref:"pListTree",attrs:{data:t.pList,props:t.props,"node-key":"id","highlight-current":!0,"expand-on-click-node":!1,accordion:""},on:{"current-change":t.pListTreeCurrentChangeHandle}})],1),t._v(" "),a("el-input",{directives:[{name:"popover",rawName:"v-popover:pListPopover",arg:"pListPopover"}],staticClass:"inputTree",attrs:{readonly:!0,placeholder:"上级"},model:{value:t.pnm2,callback:function(e){t.pnm2=e},expression:"pnm2"}},[t.pid2?a("i",{staticClass:"el-icon-circle-close el-input__icon",attrs:{slot:"suffix"},on:{click:function(e){e.stopPropagation(),t.pListTreeSetDefaultHandle()}},slot:"suffix"}):t._e()])],1)},staticRenderFns:[]};var p={data:function(){return{id:null,visible:!1,otherParamsVisible:!1,dataForm:{id:"",code:"",name:"",pid:"",pnm:" ",seq:"",remark:"",arg1:"",arg2:"",arg3:"",arg4:"",arg5:"",arg6:"",arg7:"",arg8:"",arg9:""},dataRule:{name:[{required:!0,message:"名称不能为空",trigger:"blur"}]}}},components:{inputTree:a("VU/8")(s,l,!1,function(t){a("kptM")},null,null).exports},methods:{init:function(t){var e=this;this.dataForm.id=null,this.id=t,this.visible=!0,this.dataForm.pnm="",this.$nextTick(function(){e.$refs.dataForm.resetFields(),e.$refs.inputTree.init(),e.id&&e.getInfo()})},inputTreeHandle:function(t,e){this.$set(this.dataForm,"pid",t),this.$set(this.dataForm,"pnm",e)},getInfo:function(){var t=this;this.$http.json().post("/admin/sys-dept/info",{id:this.id}).then(function(e){var a=e.data;if(200!==a.code)return t.$message.error(a.message);t.dataForm=i()({},t.dataForm,a.data)}).catch(function(){})},dataFormSubmit:o()(function(){var t=this;this.$refs.dataForm.validate(function(e){if(e){var a=t.id?"/admin/sys-dept/upd":"/admin/sys-dept/add";t.$http.post(a,i()({},t.dataForm)).then(function(e){var a=e.data;a&&200===a.code?t.$message({message:"操作成功",type:"success",duration:500,onClose:function(){t.visible=!1,t.$emit("refreshDataList")}}):t.$message.error(a.message)})}})},1e3,{leading:!0,trailing:!1})}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"mod-org-edit",attrs:{title:t.id?"修改":"新增","close-on-click-modal":!1,visible:t.visible},on:{"update:visible":function(e){t.visible=e}}},[a("el-form",{ref:"dataForm",attrs:{model:t.dataForm,rules:t.dataRule,"label-width":"120px"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.dataFormSubmit()}}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"名称"},model:{value:t.dataForm.name,callback:function(e){t.$set(t.dataForm,"name",e)},expression:"dataForm.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"pid",label:"上级组织"}},[a("input-tree",{ref:"inputTree",attrs:{pid:t.dataForm.pid,pnm:t.dataForm.pnm,url:"/admin/sys-dept/page"},on:{modify:t.inputTreeHandle}})],1)],1),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"编码",prop:"code"}},[a("el-input",{attrs:{placeholder:"编码"},model:{value:t.dataForm.code,callback:function(e){t.$set(t.dataForm,"code",e)},expression:"dataForm.code"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"排序",prop:"sort"}},[a("el-input-number",{attrs:{min:1,max:1e4,label:"排序"},model:{value:t.dataForm.sort,callback:function(e){t.$set(t.dataForm,"sort",e)},expression:"dataForm.sort"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{placeholder:"备注"},model:{value:t.dataForm.remark,callback:function(e){t.$set(t.dataForm,"remark",e)},expression:"dataForm.remark"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"input-bar",attrs:{label:"更多参数"}},[a("i",{directives:[{name:"show",rawName:"v-show",value:!t.otherParamsVisible,expression:"!otherParamsVisible"}],staticClass:"el-icon-circle-plus-outline",on:{click:function(e){t.otherParamsVisible=!0}}}),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:t.otherParamsVisible,expression:"otherParamsVisible"}],staticClass:"el-icon-remove-outline",on:{click:function(e){t.otherParamsVisible=!1}}})])],1)],1),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.otherParamsVisible,expression:"otherParamsVisible"}],attrs:{gutter:20}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"参数1",prop:"arg1"}},[a("el-input",{attrs:{placeholder:"参数1"},model:{value:t.dataForm.arg1,callback:function(e){t.$set(t.dataForm,"arg1",e)},expression:"dataForm.arg1"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"参数2",prop:"arg2"}},[a("el-input",{attrs:{placeholder:"参数2"},model:{value:t.dataForm.arg2,callback:function(e){t.$set(t.dataForm,"arg2",e)},expression:"dataForm.arg2"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"参数3",prop:"arg3"}},[a("el-input",{attrs:{placeholder:"参数3"},model:{value:t.dataForm.arg3,callback:function(e){t.$set(t.dataForm,"arg3",e)},expression:"dataForm.arg3"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"参数4",prop:"arg4"}},[a("el-input",{attrs:{placeholder:"参数4"},model:{value:t.dataForm.arg4,callback:function(e){t.$set(t.dataForm,"arg4",e)},expression:"dataForm.arg4"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"参数5",prop:"arg5"}},[a("el-input",{attrs:{placeholder:"参数5"},model:{value:t.dataForm.arg5,callback:function(e){t.$set(t.dataForm,"arg5",e)},expression:"dataForm.arg5"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"参数6",prop:"arg6"}},[a("el-input",{attrs:{placeholder:"参数6"},model:{value:t.dataForm.arg6,callback:function(e){t.$set(t.dataForm,"arg6",e)},expression:"dataForm.arg6"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"参数7",prop:"arg7"}},[a("el-input",{attrs:{placeholder:"参数7"},model:{value:t.dataForm.arg7,callback:function(e){t.$set(t.dataForm,"arg7",e)},expression:"dataForm.arg7"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"参数8",prop:"arg8"}},[a("el-input",{attrs:{placeholder:"参数8"},model:{value:t.dataForm.arg8,callback:function(e){t.$set(t.dataForm,"arg8",e)},expression:"dataForm.arg8"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"参数9",prop:"arg9"}},[a("el-input",{attrs:{placeholder:"参数9"},model:{value:t.dataForm.arg9,callback:function(e){t.$set(t.dataForm,"arg9",e)},expression:"dataForm.arg9"}})],1)],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.visible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dataFormSubmit()}}},[t._v("确定")])],1)],1)},staticRenderFns:[]},c=a("VU/8")(p,d,!1,null,null,null);e.default=c.exports},kptM:function(t,e,a){var r=a("Kx03");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a("rjj0")("bdb310c4",r,!0)}});