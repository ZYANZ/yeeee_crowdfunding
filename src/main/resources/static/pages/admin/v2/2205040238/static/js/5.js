webpackJsonp([5,24,46,47],{I95x:function(e,t){!function(){"use strict";var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=void 0!==e&&e.exports,s="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,a=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],s=0,a=n.length,i={};s<a;s++)if((e=n[s])&&e[1]in t){for(s=0;s<e.length;s++)i[n[0][s]]=e[s];return i}return!1}(),i={change:a.fullscreenchange,error:a.fullscreenerror},r={request:function(e){var n=a.requestFullscreen;e=e||t.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?e[n]():e[n](s?Element.ALLOW_KEYBOARD_INPUT:{})},exit:function(){t[a.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var s=i[e];s&&t.addEventListener(s,n,!1)},off:function(e,n){var s=i[e];s&&t.removeEventListener(s,n,!1)},raw:a};a?(Object.defineProperties(r,{isFullscreen:{get:function(){return Boolean(t[a.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[a.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(t[a.fullscreenEnabled])}}}),n?e.exports=r:window.screenfull=r):n?e.exports=!1:window.screenfull=!1}()},TdIe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("cdA+"),a=n("I95x"),i=n.n(a),r=n("0xDb"),o={inject:["refresh"],data:function(){return{updatePassowrdVisible:!1}},components:{UpdatePassword:s.default},computed:{navbarLayoutType:{get:function(){return this.$store.state.common.navbarLayoutType}},sidebarFold:{get:function(){return this.$store.state.common.sidebarFold},set:function(e){this.$store.commit("common/updateSidebarFold",e)}},mainTabs:{get:function(){return this.$store.state.common.mainTabs},set:function(e){this.$store.commit("common/updateMainTabs",e)}},userName:{get:function(){return this.$store.state.user.name}},avatar:{get:function(){return this.$store.state.user.avatar}}},methods:{fullscreenHandle:function(){if(!i.a.enabled)return this.$message({message:this.$t("fullscreen.prompt"),type:"warning",duration:500});i.a.toggle()},updatePasswordHandle:function(){var e=this;this.updatePassowrdVisible=!0,this.$nextTick(function(){e.$refs.updatePassowrd.init()})},logoutHandle:function(){var e=this;this.$confirm("确定进行[退出]操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http.get("/general/access/logout").then(function(t){var n=t.data;n&&0===n.code&&(Object(r.b)(),e.$router.push({name:"login"}))})}).catch(function(){})}}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"site-navbar",class:"site-navbar--"+e.navbarLayoutType},[s("div",{staticClass:"site-navbar__header"},[s("h1",{staticClass:"site-navbar__brand",on:{click:function(t){e.$router.push({name:"home"})}}},[s("a",{staticClass:"site-navbar__brand-lg",attrs:{href:"javascript:;"}},[e._v("运维平台")]),e._v(" "),s("a",{staticClass:"site-navbar__brand-mini",attrs:{href:"javascript:;"}},[e._v("yeah")])])]),e._v(" "),s("div",{staticClass:"site-navbar__body clearfix"},[s("el-menu",{staticClass:"site-navbar__menu",attrs:{mode:"horizontal"}},[s("el-menu-item",{staticClass:"site-navbar__switch",attrs:{index:"0"},on:{click:function(t){e.sidebarFold=!e.sidebarFold}}},[s("icon-svg",{attrs:{name:"zhedie"}})],1),e._v(" "),s("el-menu-item",{staticClass:"site-navbar__switch",attrs:{index:"1"},on:{click:function(t){e.refresh()}}},[s("icon-svg",{attrs:{name:"sync"}})],1)],1),e._v(" "),s("el-menu",{staticClass:"site-navbar__menu site-navbar__menu--right",attrs:{mode:"horizontal"}},[s("el-menu-item",{staticClass:"site-navbar__switch",attrs:{index:"0"},on:{click:function(t){e.fullscreenHandle()}}},[s("icon-svg",{attrs:{name:"fullscreen"}})],1),e._v(" "),s("el-menu-item",{staticClass:"site-navbar__avatar",attrs:{index:"3"}},[s("el-dropdown",{attrs:{"show-timeout":0,placement:"bottom"}},[s("span",{staticClass:"el-dropdown-link"},[e.avatar?s("img",{attrs:{src:e.avatar}}):s("img",{attrs:{src:n("zQrT"),alt:e.userName}}),e._v("\n            "+e._s(e.userName)+"\n          ")]),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.$hasPerm("sys:user:updPwd")?s("el-dropdown-item",{nativeOn:{click:function(t){e.updatePasswordHandle()}}},[e._v("修改密码")]):e._e(),e._v(" "),s("el-dropdown-item",{nativeOn:{click:function(t){e.logoutHandle()}}},[e._v("退出")])],1)],1)],1)],1)],1),e._v(" "),e.updatePassowrdVisible?s("update-password",{ref:"updatePassowrd"}):e._e()],1)},staticRenderFns:[]},c=n("VU/8")(o,u,!1,null,null,null);t.default=c.exports},YbVU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("oZaA"),a=n("E4LH"),i={data:function(){return{dynamicMenuRoutes:[]}},components:{SubMenu:s.default},computed:{sidebarLayoutSkin:{get:function(){return this.$store.state.common.sidebarLayoutSkin}},sidebarFold:{get:function(){return this.$store.state.common.sidebarFold}},menuList:{get:function(){return this.$store.state.common.menuList},set:function(e){this.$store.commit("common/updateMenuList",e)}},menuActiveName:{get:function(){return this.$store.state.common.menuActiveName},set:function(e){this.$store.commit("common/updateMenuActiveName",e)}},mainTabs:{get:function(){return this.$store.state.common.mainTabs},set:function(e){this.$store.commit("common/updateMainTabs",e)}},mainTabsActiveName:{get:function(){return this.$store.state.common.mainTabsActiveName},set:function(e){this.$store.commit("common/updateMainTabsActiveName",e)}}},watch:{$route:"routeHandle"},created:function(){this.menuList=JSON.parse(sessionStorage.getItem("menuList")||"[]"),this.dynamicMenuRoutes=JSON.parse(sessionStorage.getItem("dynamicMenuRoutes")||"[]"),this.routeHandle(this.$route)},methods:{routeHandle:function(e){if(e.meta.isTab){var t=this.mainTabs.filter(function(t){return t.name===e.name})[0];if(!t){if(e.meta.isDynamic&&!(e=this.dynamicMenuRoutes.filter(function(t){return t.name===e.name})[0]))return console.error("未能找到可用标签页!");t={menuId:e.meta.menuId||e.name,name:e.name,title:e.meta.title,type:Object(a.c)(e.meta.iframeUrl)?"iframe":"module",iframeUrl:e.meta.iframeUrl||""},this.mainTabs=this.mainTabs.concat(t)}this.menuActiveName=t.menuId+"",this.mainTabsActiveName=t.name}}}},r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",{staticClass:"site-sidebar",class:"site-sidebar--"+e.sidebarLayoutSkin},[n("div",{staticClass:"site-sidebar__inner"},[n("el-menu",{staticClass:"site-sidebar__menu",attrs:{"default-active":e.menuActiveName||"home",collapse:e.sidebarFold,"unique-opened":!0,collapseTransition:!1}},[n("el-menu-item",{attrs:{index:"home"},on:{click:function(t){e.$router.push({name:"home"})}}},[n("svg",{staticClass:"icon-svg aui-sidebar__menu-icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-shouye"}})]),e._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("首页")])]),e._v(" "),e._l(e.menuList,function(t){return n("sub-menu",{key:t.id,attrs:{menu:t,dynamicMenuRoutes:e.dynamicMenuRoutes}})})],2)],1)])},staticRenderFns:[]},o=n("VU/8")(i,r,!1,null,null,null);t.default=o.exports},"sRz/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("mvHQ"),a=n.n(s),i=n("TdIe"),r=n("YbVU"),o=n("xzNW"),u={provide:function(){return{refresh:function(){var e=this;this.$store.commit("common/updateContentIsNeedRefresh",!0),this.$nextTick(function(){e.$store.commit("common/updateContentIsNeedRefresh",!1)})}}},data:function(){return{loading:!0}},components:{MainNavbar:i.default,MainSidebar:r.default,MainContent:o.default},computed:{documentClientHeight:{get:function(){return this.$store.state.common.documentClientHeight},set:function(e){this.$store.commit("common/updateDocumentClientHeight",e)}},sidebarFold:{get:function(){return this.$store.state.common.sidebarFold}},userId:{get:function(){return this.$store.state.user.id},set:function(e){this.$store.commit("user/updateId",e)}},userName:{get:function(){return this.$store.state.user.name},set:function(e){this.$store.commit("user/updateName",e)}},avatar:{get:function(){return this.$store.state.user.avatar},set:function(e){this.$store.commit("user/updateAvatar",e)}}},created:function(){this.getUserInfo(),this.listPerm()},mounted:function(){this.resetDocumentClientHeight()},methods:{resetDocumentClientHeight:function(){var e=this;this.documentClientHeight=document.documentElement.clientHeight,window.onresize=function(){e.documentClientHeight=document.documentElement.clientHeight}},getUserInfo:function(){var e=this;this.$http.get("/general/auth/getUserInfo").then(function(t){var n=t.data;n&&0===n.code&&(e.loading=!1,e.userId=n.data.userId,e.userName=n.data.username,e.avatar=n.data.avatar)})},listPerm:function(){this.$http.get("/general/auth/getAuthz").then(function(e){var t=e.data;t&&0===t.code?(sessionStorage.setItem("roles",a()(t.data.roles||"[]")),sessionStorage.setItem("permissions",a()(t.data.stringPermissions||"[]"))):(sessionStorage.setItem("roles","[]"),sessionStorage.setItem("permissions","[]"))})}}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"site-wrapper",class:{"site-sidebar--fold":e.sidebarFold},attrs:{"element-loading-text":"拼命加载中"}},[e.loading?e._e():[n("main-navbar"),e._v(" "),n("main-sidebar"),e._v(" "),n("div",{staticClass:"site-content__wrapper",style:{"min-height":e.documentClientHeight+"px"}},[e.$store.state.common.contentIsNeedRefresh?e._e():n("main-content")],1)]],2)},staticRenderFns:[]},l=n("VU/8")(u,c,!1,null,null,null);t.default=l.exports},xzNW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("E4LH"),a={data:function(){return{}},computed:{documentClientHeight:{get:function(){return this.$store.state.common.documentClientHeight}},menuActiveName:{get:function(){return this.$store.state.common.menuActiveName},set:function(e){this.$store.commit("common/updateMenuActiveName",e)}},mainTabs:{get:function(){return this.$store.state.common.mainTabs},set:function(e){this.$store.commit("common/updateMainTabs",e)}},mainTabsActiveName:{get:function(){return this.$store.state.common.mainTabsActiveName},set:function(e){this.$store.commit("common/updateMainTabsActiveName",e)}},siteContentViewHeight:function(){var e=this.documentClientHeight-50-30-2;return this.$route.meta.isTab?(e-=40,Object(s.c)(this.$route.meta.iframeUrl)?{height:e+"px"}:{minHeight:e+"px"}):{minHeight:e+"px"}}},methods:{selectedTabHandle:function(e){(e=this.mainTabs.filter(function(t){return t.name===e.name})).length>=1&&this.$router.push({name:e[0].name})},removeTabHandle:function(e){var t=this;this.mainTabs=this.mainTabs.filter(function(t){return t.name!==e}),this.mainTabs.length>=1?e===this.mainTabsActiveName&&this.$router.push({name:this.mainTabs[this.mainTabs.length-1].name},function(){t.mainTabsActiveName=t.$route.name}):(this.menuActiveName="",this.$router.push({name:"home"}))},tabsCloseCurrentHandle:function(){this.removeTabHandle(this.mainTabsActiveName)},tabsCloseOtherHandle:function(){var e=this;this.mainTabs=this.mainTabs.filter(function(t){return t.name===e.mainTabsActiveName})},tabsCloseAllHandle:function(){this.mainTabs=[],this.menuActiveName="",this.$router.push({name:"home"})},tabsRefreshCurrentHandle:function(){var e=this,t=this.mainTabsActiveName;this.removeTabHandle(t),this.$nextTick(function(){e.$router.push({name:t})})}}},i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"site-content",class:{"site-content--tabs":e.$route.meta.isTab}},[e.$route.meta.isTab?n("el-tabs",{attrs:{closable:!0},on:{"tab-click":e.selectedTabHandle,"tab-remove":e.removeTabHandle},model:{value:e.mainTabsActiveName,callback:function(t){e.mainTabsActiveName=t},expression:"mainTabsActiveName"}},[n("el-dropdown",{staticClass:"site-tabs__tools",attrs:{"show-timeout":0}},[n("i",{staticClass:"el-icon-arrow-down el-icon--right"}),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(t){e.tabsCloseCurrentHandle(t)}}},[e._v("关闭当前标签页")]),e._v(" "),n("el-dropdown-item",{nativeOn:{click:function(t){e.tabsCloseOtherHandle(t)}}},[e._v("关闭其它标签页")]),e._v(" "),n("el-dropdown-item",{nativeOn:{click:function(t){e.tabsCloseAllHandle(t)}}},[e._v("关闭全部标签页")]),e._v(" "),n("el-dropdown-item",{nativeOn:{click:function(t){e.tabsRefreshCurrentHandle(t)}}},[e._v("刷新当前标签页")])],1)],1),e._v(" "),e._l(e.mainTabs,function(t){return n("el-tab-pane",{key:t.name,attrs:{label:t.title,name:t.name}},[n("el-card",{attrs:{"body-style":e.siteContentViewHeight}},["iframe"===t.type?n("iframe",{attrs:{src:t.iframeUrl,width:"100%",height:"100%",frameborder:"0",scrolling:"yes"}}):n("keep-alive",[t.name===e.mainTabsActiveName?n("router-view"):e._e()],1)],1)],1)})],2):n("el-card",{attrs:{"body-style":e.siteContentViewHeight}},[n("keep-alive",[n("router-view")],1)],1)],1)},staticRenderFns:[]},r=n("VU/8")(a,i,!1,null,null,null);t.default=r.exports},zQrT:function(e,t,n){e.exports=n.p+"static/img/avatar.f20ce48.png"}});