webpackJsonp([18],{"16uo":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e("Dd8w"),o=e.n(r),i=e("O4Lo"),s={data:function(){return{id:null,visible:!1,otherParamsVisible:!1,pListVisible:!1,pList:[],dataForm:{id:"",cd:"",nm:"",pid:"",pnm:"",seq:"",rmks:"",arg1:"",arg2:"",arg3:"",arg4:"",arg5:"",arg6:"",arg7:"",arg8:"",arg9:""},dataRule:{nm:[{required:!0,message:"名称不能为空",trigger:"blur"}]}}},methods:{init:function(t){var a=this;this.id=t,this.visible=!0,this.dataForm.pnm="",this.$nextTick(function(){a.$refs.dataForm.resetFields(),a.listP().then(function(){a.id&&a.getInfo()})})},listP:function(){var t=this;return this.$http.get("/sys/org/listTreeNode").then(function(a){var e=a.data;if(0!==e.code)return t.$message.error(e.msg);t.pList=e.data.list}).catch(function(){})},getInfo:function(){var t=this;this.$http.get("/sys/org/info/"+this.id).then(function(a){var e=a.data;return 0!==e.code?t.$message.error(e.msg):(t.dataForm=o()({},t.dataForm,e.data),t.dataForm.pid?void t.$refs.pListTree.setCurrentKey(t.dataForm.pid):t.pListTreeSetDefaultHandle())}).catch(function(){})},pListTreeCurrentChangeHandle:function(t){this.dataForm.pid=t.id,this.dataForm.pnm=t.nm,this.pListVisible=!1},pListTreeSetDefaultHandle:function(){this.dataForm.pid=null,this.dataForm.pnm=""},dataFormSubmit:e.n(i)()(function(){var t=this;this.$refs.dataForm.validate(function(a){if(a){var e=t.id?"/sys/org/upd":"/sys/org/add";t.$http.post(e,o()({},t.dataForm)).then(function(a){var e=a.data;e&&0===e.code?t.$message({message:"操作成功",type:"success",duration:500,onClose:function(){t.visible=!1,t.$emit("refreshDataList")}}):t.$message.error(e.msg)})}})},1e3,{leading:!0,trailing:!1})}},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-dialog",{staticClass:"mod-org-edit",attrs:{title:t.id?"修改":"新增","close-on-click-modal":!1,visible:t.visible},on:{"update:visible":function(a){t.visible=a}}},[e("el-form",{ref:"dataForm",attrs:{model:t.dataForm,rules:t.dataRule,"label-width":"120px"},nativeOn:{keyup:function(a){if(!("button"in a)&&t._k(a.keyCode,"enter",13,a.key))return null;t.dataFormSubmit()}}},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:11}},[e("el-form-item",{attrs:{label:"名称",prop:"nm"}},[e("el-input",{attrs:{placeholder:"名称"},model:{value:t.dataForm.nm,callback:function(a){t.$set(t.dataForm,"nm",a)},expression:"dataForm.nm"}})],1)],1),t._v(" "),e("el-col",{attrs:{span:11}},[e("el-form-item",{staticClass:"p-list",attrs:{prop:"pid",label:"上级组织"}},[e("el-popover",{ref:"pListPopover",attrs:{placement:"bottom-start",trigger:"click"},model:{value:t.pListVisible,callback:function(a){t.pListVisible=a},expression:"pListVisible"}},[e("el-tree",{ref:"pListTree",attrs:{data:t.pList,props:{label:"nm",children:"children"},"node-key":"id","highlight-current":!0,"expand-on-click-node":!1,accordion:""},on:{"current-change":t.pListTreeCurrentChangeHandle}})],1),t._v(" "),e("el-input",{directives:[{name:"popover",rawName:"v-popover:pListPopover",arg:"pListPopover"}],attrs:{readonly:!0,placeholder:"上级组织"},model:{value:t.dataForm.pnm,callback:function(a){t.$set(t.dataForm,"pnm",a)},expression:"dataForm.pnm"}},[t.dataForm.pid?e("i",{staticClass:"el-icon-circle-close el-input__icon",attrs:{slot:"suffix"},on:{click:function(a){a.stopPropagation(),t.pListTreeSetDefaultHandle()}},slot:"suffix"}):t._e()])],1)],1),t._v(" "),e("el-col",{attrs:{span:11}},[e("el-form-item",{attrs:{label:"编码",prop:"cd"}},[e("el-input",{attrs:{placeholder:"编码"},model:{value:t.dataForm.cd,callback:function(a){t.$set(t.dataForm,"cd",a)},expression:"dataForm.cd"}})],1)],1),t._v(" "),e("el-col",{attrs:{span:11}},[e("el-form-item",{attrs:{label:"排序",prop:"seq"}},[e("el-input-number",{attrs:{min:1,max:1e4,label:"排序"},model:{value:t.dataForm.seq,callback:function(a){t.$set(t.dataForm,"seq",a)},expression:"dataForm.seq"}})],1)],1),t._v(" "),e("el-col",{attrs:{span:11}},[e("el-form-item",{attrs:{label:"备注",prop:"rmks"}},[e("el-input",{attrs:{placeholder:"备注"},model:{value:t.dataForm.rmks,callback:function(a){t.$set(t.dataForm,"rmks",a)},expression:"dataForm.rmks"}})],1)],1),t._v(" "),e("el-col",{attrs:{span:6}},[e("el-form-item",{staticClass:"input-bar",attrs:{label:"更多参数"}},[e("i",{directives:[{name:"show",rawName:"v-show",value:!t.otherParamsVisible,expression:"!otherParamsVisible"}],staticClass:"el-icon-circle-plus-outline",on:{click:function(a){t.otherParamsVisible=!0}}}),t._v(" "),e("i",{directives:[{name:"show",rawName:"v-show",value:t.otherParamsVisible,expression:"otherParamsVisible"}],staticClass:"el-icon-remove-outline",on:{click:function(a){t.otherParamsVisible=!1}}})])],1)],1),t._v(" "),e("el-row",{directives:[{name:"show",rawName:"v-show",value:t.otherParamsVisible,expression:"otherParamsVisible"}],attrs:{gutter:20}},[e("el-col",{attrs:{span:11}},[e("el-form-item",{attrs:{label:"参数1",prop:"arg1"}},[e("el-input",{attrs:{placeholder:"参数1"},model:{value:t.dataForm.arg1,callback:function(a){t.$set(t.dataForm,"arg1",a)},expression:"dataForm.arg1"}})],1)],1),t._v(" "),e("el-col",{attrs:{span:11}},[e("el-form-item",{attrs:{label:"参数2",prop:"arg2"}},[e("el-input",{attrs:{placeholder:"参数2"},model:{value:t.dataForm.arg2,callback:function(a){t.$set(t.dataForm,"arg2",a)},expression:"dataForm.arg2"}})],1)],1),t._v(" "),e("el-col",{attrs:{span:11}},[e("el-form-item",{attrs:{label:"参数3",prop:"arg3"}},[e("el-input",{attrs:{placeholder:"参数3"},model:{value:t.dataForm.arg3,callback:function(a){t.$set(t.dataForm,"arg3",a)},expression:"dataForm.arg3"}})],1)],1),t._v(" "),e("el-col",{attrs:{span:11}},[e("el-form-item",{attrs:{label:"参数4",prop:"arg4"}},[e("el-input",{attrs:{placeholder:"参数4"},model:{value:t.dataForm.arg4,callback:function(a){t.$set(t.dataForm,"arg4",a)},expression:"dataForm.arg4"}})],1)],1),t._v(" "),e("el-col",{attrs:{span:11}},[e("el-form-item",{attrs:{label:"参数5",prop:"arg5"}},[e("el-input",{attrs:{placeholder:"参数5"},model:{value:t.dataForm.arg5,callback:function(a){t.$set(t.dataForm,"arg5",a)},expression:"dataForm.arg5"}})],1)],1),t._v(" "),e("el-col",{attrs:{span:11}},[e("el-form-item",{attrs:{label:"参数6",prop:"arg6"}},[e("el-input",{attrs:{placeholder:"参数6"},model:{value:t.dataForm.arg6,callback:function(a){t.$set(t.dataForm,"arg6",a)},expression:"dataForm.arg6"}})],1)],1),t._v(" "),e("el-col",{attrs:{span:11}},[e("el-form-item",{attrs:{label:"参数7",prop:"arg7"}},[e("el-input",{attrs:{placeholder:"参数7"},model:{value:t.dataForm.arg7,callback:function(a){t.$set(t.dataForm,"arg7",a)},expression:"dataForm.arg7"}})],1)],1),t._v(" "),e("el-col",{attrs:{span:11}},[e("el-form-item",{attrs:{label:"参数8",prop:"arg8"}},[e("el-input",{attrs:{placeholder:"参数8"},model:{value:t.dataForm.arg8,callback:function(a){t.$set(t.dataForm,"arg8",a)},expression:"dataForm.arg8"}})],1)],1),t._v(" "),e("el-col",{attrs:{span:11}},[e("el-form-item",{attrs:{label:"参数9",prop:"arg9"}},[e("el-input",{attrs:{placeholder:"参数9"},model:{value:t.dataForm.arg9,callback:function(a){t.$set(t.dataForm,"arg9",a)},expression:"dataForm.arg9"}})],1)],1)],1)],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.visible=!1}}},[t._v("取消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(a){t.dataFormSubmit()}}},[t._v("确定")])],1)],1)},staticRenderFns:[]};var n=e("VU/8")(s,l,!1,function(t){e("Su/F")},null,null);a.default=n.exports},MRs9:function(t,a,e){(t.exports=e("FZ+f")(!1)).push([t.i,"\n.mod-org-edit .p-list .el-input__inner,\n.mod-org-edit .p-list .el-input__suffix {\n  cursor: pointer;\n}\n.mod-org-edit .input-bar i {\n  padding-top: 6px;\n  font-size: 24px;\n  color: #3a8ee6;\n  -webkit-transition-property: color;\n  transition-property: color;\n  -webkit-transition-duration: 0.15s;\n          transition-duration: 0.15s;\n  -webkit-transition-timing-function: linear;\n          transition-timing-function: linear;\n  -webkit-transition-delay: initial;\n          transition-delay: initial;\n}\n",""])},"Su/F":function(t,a,e){var r=e("MRs9");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);e("rjj0")("1c925397",r,!0)}});